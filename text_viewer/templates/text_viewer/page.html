{% extends "base.html" %}
{% load staticfiles compress require cms_tags %}

{% block title %}
{% endblock %}

{% block main %}
    <div id="text-pane-center" class="text-pane large-6 columns">
        CENTER
    </div>
    <div id="text-pane-east" class="text-pane large-6 columns">
        EAST
    </div>

    {% verbatim %}
        <div id="text-pane-template">
            <div class="controls">
                <h2 class="doc-label">
                    {{ document.label }}
                    <ul v-f-dropdown>
                        <li class="is-dropdown-submenu-parent">
                            <a>{{ view.label }}</a>
                            <ul class="menu">
                                <li v-for="aview in views" v-bind:class="[aview.slug == view.slug ? 'active' : '', 'is-submenu-item is-dropdown-submenu-item']">
                                    <a v-on:click.prevent="onClickView(aview.slug)" href="#">{{ aview.label }}</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </h2>

                <ul v-f-dropdown>
                    <li class="is-dropdown-submenu-parent">
                        <a>{{ location_type.label }}</a>
                        <ul class="menu">
                            <li v-for="alocation_type in location_types" v-bind:class="[alocation_type.slug == location_type.slug ? 'active' : '', 'is-submenu-item is-dropdown-submenu-item']">
                                <a v-on:click.prevent="onClickLocationType(alocation_type.slug)" href="#">{{ alocation_type.label }}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                
                <select name="location" v-model="location.slug" v-bind:class="[locations.length < 2 ? 'invisible': '']">
                    <option v-for="location in locations" v-bind:value="location.slug" v-html="location.label_long">
                    </option>
                </select>
                
            </div>
            <div class="text-chunk" v-html="chunk"></div>
        </div>
    {% endverbatim %}

    {% comment %}
        <select name="view" v-model="view.slug">
            <option v-for="view in views" v-bind:value="view.slug">
                {{ view.label }}
            </option>
        </select> 
    {% endcomment %}
    
{% endblock %}

{% block footer_scripts %}
    {{ block.super }}
    {# TODO: load this with require.js ? #}
    <script src="{% static 'vendor/vue/vue.js' %}"></script>
    <script src="{% static 'text_viewer/text_viewer.js' %}"></script>
{% endblock %}
